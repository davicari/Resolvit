
exports.myAnalizer = function(){


		var unwantedWords = ["a", "the", "and", "of", "in", "be", "also", "as"];
		var fs = require('fs');
		var tree = [];
		
		
		
		//first we validate the existence of a file in the argc of the console application.
		//the options are a file name (within the same folder) or a text delimited with double quotes.
		
		//console.log(process.argv);
		
		//then we get the text
		
		var txt = 'Take this paragraph of text and return an alphabetized list of ALL unique words.  A unique word is any form of a word often communicated with essentially the same meaning. For example, fish and fishes could be defined as a unique word by using their stem fish. For each unique word found in this entire paragraph, determine the how many times the word appears in total. Also, provide an analysis of what unique sentence index position or positions the word is found. The following words should not be included in your analysis or result set: "a", "the", "and", "of", "in", "be", "also" and "as".  Your final result MUST be displayed in a readable console output in the same format as the JSON sample object shown below.';

		//we remove the unwanted words, extra spaces, quotation marks, etc. leaving a text with the format "xx x x xxx. xxxx x. xxx xx x x."
		console.log("txt before",txt);
		var txt = txt.replace(getTextCleaningRegExp(unwantedWords),"").replace(/['":,]+/g, '');
		console.log("txt after",txt);
		
		//then we build a sentences (to get the index) -> word tree (exclussion list filter)  ->  
		
		var startPos = 0;
		txt.split(".").forEach(function(currentValue,index,array){
				var  endPos = currentValue.length+startPos;
				if(endPos != startPos){
					tree.push(new Sentence(index,currentValue,startPos,endPos));
					startPos = endPos
					}
			});
			
			
		
		
		 /* ------ magic -------*/
		
		// here i am doubitious regarding the "fish -> fishes"  as the "same" word, cause fish is the stem of fishes, but in the case,
		// fold -> folder the meaning differ, another example is the word mouse, and mice. using the fish->fishes example by meaning, mouse and 
		//mice is the same word ( i should use some kind of dictionary with some kind of intelligence perhaps?)
		//So, using this example, and without asking a questiong about the meaning of the paragraph, i will asume
		// words, that are contained in it plurar form; eg:   word-> words, 
		
		//we walk the tree and load the results.
		

		
		
		
		
		console.log("tree",tree);
		
		return tree;
	
}


